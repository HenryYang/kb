<!DOCTYPE html>
<html lang="en" itemscope="" itemtype="http://schema.org/WebPage">
    <head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta property="og:title" content="CLI command / 常見 CLI 指令 " />
<meta property="og:description" content="Let&rsquo;s Encrypt 安裝指令
# For macOS $ brew install letsencrypt # For Ubuntu $ apt install certbot  手動產生憑證（可用於驗證 Private IP 或無法安裝 agent 的主機上） $ certbot certonly --manual --config-dir ~/Desktop/letsencrypt --work-dir ~/Desktop/letsencrypt --logs-dir ~/Desktop/letsencrypt --preferred-challenges dns  自動產生憑證（用於外網可以直接連線到 agent 的主機上） $ certbot certonly --standalone -n --agree-tos --email 你的電子信箱 --preferred-challenges http -d 你的網域  關閉 SSH 密碼登入 # /etc/ssh/sshd_config PasswordAuthentication no ChallengeResponseAuthentication no UsePAM no 產生 SSH key # Ed25519 algorithm ssh-keygen -t ed25519 -C &#34;hi@hiy." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kb.hiy.tw/os/unix/cli/" />
<meta property="article:published_time" content="2020-07-07T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-11-15T19:01:17+08:00" />
<meta itemprop="name" content="CLI command / 常見 CLI 指令 ">
<meta itemprop="description" content="Let&rsquo;s Encrypt 安裝指令
# For macOS $ brew install letsencrypt # For Ubuntu $ apt install certbot  手動產生憑證（可用於驗證 Private IP 或無法安裝 agent 的主機上） $ certbot certonly --manual --config-dir ~/Desktop/letsencrypt --work-dir ~/Desktop/letsencrypt --logs-dir ~/Desktop/letsencrypt --preferred-challenges dns  自動產生憑證（用於外網可以直接連線到 agent 的主機上） $ certbot certonly --standalone -n --agree-tos --email 你的電子信箱 --preferred-challenges http -d 你的網域  關閉 SSH 密碼登入 # /etc/ssh/sshd_config PasswordAuthentication no ChallengeResponseAuthentication no UsePAM no 產生 SSH key # Ed25519 algorithm ssh-keygen -t ed25519 -C &#34;hi@hiy.">
<meta itemprop="datePublished" content="2020-07-07T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-11-15T19:01:17+08:00" />
<meta itemprop="wordCount" content="245">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="CLI command / 常見 CLI 指令 "/>
<meta name="twitter:description" content="Let&rsquo;s Encrypt 安裝指令
# For macOS $ brew install letsencrypt # For Ubuntu $ apt install certbot  手動產生憑證（可用於驗證 Private IP 或無法安裝 agent 的主機上） $ certbot certonly --manual --config-dir ~/Desktop/letsencrypt --work-dir ~/Desktop/letsencrypt --logs-dir ~/Desktop/letsencrypt --preferred-challenges dns  自動產生憑證（用於外網可以直接連線到 agent 的主機上） $ certbot certonly --standalone -n --agree-tos --email 你的電子信箱 --preferred-challenges http -d 你的網域  關閉 SSH 密碼登入 # /etc/ssh/sshd_config PasswordAuthentication no ChallengeResponseAuthentication no UsePAM no 產生 SSH key # Ed25519 algorithm ssh-keygen -t ed25519 -C &#34;hi@hiy."/>


<meta property="description" content='Let&rsquo;s Encrypt 安裝指令
# For macOS $ brew install letsencrypt # For Ubuntu $ apt install certbot  手動產生憑證（可用於驗證 Private IP 或無法安裝 agent 的主機上） $ certbot certonly --manual --config-dir ~/Desktop/letsencrypt --work-dir ~/Desktop/letsencrypt --logs-dir ~/Desktop/letsencrypt --preferred-challenges dns  自動產生憑證（用於外網可以直接連線到 agent 的主機上） $ certbot certonly --standalone -n --agree-tos --email 你的電子信箱 --preferred-challenges http -d 你的網域  關閉 SSH 密碼登入 # /etc/ssh/sshd_config PasswordAuthentication no ChallengeResponseAuthentication no UsePAM no 產生 SSH key # Ed25519 algorithm ssh-keygen -t ed25519 -C &#34;hi@hiy.' /><meta name="author" content="Henry Yang">



<title>CLI command / 常見 CLI 指令  | Henry&#39;s Knowledge Base</title>

<link rel="canonical" href="https://kb.hiy.tw/os/unix/cli/">




 



<link rel="stylesheet" href="https://kb.hiy.tw/css/all.min.4a45a7ed7d7dd5b16e4cd2f3bf71a6acb00b4c69bdbb1516f431bbfdf6629067.css" integrity="sha256-SkWn7X191bFuTNLzv3GmrLALTGm9uxUW9DG7/fZikGc=">













</head>
    <body>
	<meta itemprop="url" content="https://kb.hiy.tw/os/unix/cli/" /><nav class="navbar navbar-dark fixed-top bg-danger flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-sm-3 col-md-3 mr-0 text-center " href="https://kb.hiy.tw/">Henry&#39;s Knowledge Base</a>
</nav>


<div class="container-fluid mt-3">
    <div class="row">

	

        <main role="main" class="col-md-9 ml-sm-auto col-lg-9 px-4">
            
	    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">CLI command / 常見 CLI 指令 </h1>
</div>



<div class="text-center">
    
    
    <div class="d-flex justify-content-center text-muted">
	<small>
	    <i class="fas fa-clock"></i> <strong>Published:</strong>
	    
	    <time datetime="2020-07-07T00:00:00&#43;00:00">7 Jul, 2020</time>
	    
	    </small>
	<small class="mx-3">
	    
	    <div class="ml-2">
		<i class="fas fa-edit"></i> <strong>Last modified:</strong> <time datetime="2021-11-15T19:01:17&#43;08:00">November 15, 2021</time>
	    </div>
	    
	</small>
	
    </div>
    
</div>


	    
	    <h5 id="lets-encrypt">Let&rsquo;s Encrypt</h5>
<p>安裝指令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># For macOS</span>
$ brew install letsencrypt

<span style="color:#75715e"># For Ubuntu</span>
$ apt install certbot
</code></pre></div></br>
<h5 id="手動產生憑證可用於驗證-private-ip-或無法安裝-agent-的主機上">手動產生憑證（可用於驗證 Private IP 或無法安裝 agent 的主機上）</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ certbot certonly --manual --config-dir ~/Desktop/letsencrypt --work-dir ~/Desktop/letsencrypt --logs-dir ~/Desktop/letsencrypt --preferred-challenges dns
</code></pre></div></br>
<h5 id="自動產生憑證用於外網可以直接連線到-agent-的主機上">自動產生憑證（用於外網可以直接連線到 agent 的主機上）</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ certbot certonly --standalone -n --agree-tos --email 你的電子信箱 --preferred-challenges http -d 你的網域
</code></pre></div></br>
<h5 id="關閉-ssh-密碼登入">關閉 SSH 密碼登入</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># /etc/ssh/sshd_config</span>

PasswordAuthentication no
ChallengeResponseAuthentication no
UsePAM no
</code></pre></div><h5 id="產生-ssh-key">產生 SSH key</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># Ed25519 algorithm</span>
ssh-keygen -t ed25519 -C <span style="color:#e6db74">&#34;hi@hiy.tw&#34;</span>

<span style="color:#75715e"># Legacy system</span>
ssh-keygen -t rsa -b <span style="color:#ae81ff">4096</span> -C <span style="color:#e6db74">&#34;legacy@hiy.tw&#34;</span>
</code></pre></div><p><a href="https://docs.github.com/en/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">Github的教學</a></p>
</br>
<h5 id="用-gpg-簽署-git-commit">用 GPG 簽署 GIT COMMIT</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># 顯示自己有哪一些 GPG Keys </span>
gpg --list-keys 

<span style="color:#75715e"># 匯出自己的公鑰並上傳到 Github 上 (https://github.com/settings/keys)</span>
gpg --armor --export 你的KEY_ID

<span style="color:#75715e"># 在 git 設定以下參數來完成</span>

git config --global user.signingkey 你的KEY_ID
git config --global commit.gpgSign true 
git config --global tag.gpgSign true
</code></pre></div><p><a href="https://useme.medium.com/%E4%BA%94%E5%88%86%E9%90%98%E8%AA%8D%E8%AD%89%E4%BD%A0%E7%9A%84-git-commit-265b002ce71b">medium上的教學</a></p>
</br>
<h5 id="esxi-重起管理服務">ESXi 重起管理服務</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/etc/init.d/hostd restart
/etc/init.d/vpxa restart
</code></pre></div></br>
<h5 id="docker-清理">Docker 清理</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ docker system prune -a
$ docker image prune -a
</code></pre></div></br>
<h5 id="openssl-相關指令">Openssl 相關指令</h5>
<ul>
<li><a href="https://ssorc.tw/42/">https://ssorc.tw/42/</a></li>
</ul>
</br>
<h5 id="用-ffmpeg-合併影片">用 ffmpeg 合併影片</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#clips.txt</span>
file <span style="color:#e6db74">&#39;first.mp4&#39;</span>
file <span style="color:#e6db74">&#39;second.mp4&#39;</span>
...
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ffmpeg -f concat -i clips.txt -c copy output.mp4
</code></pre></div></br>
<h5 id="掛載-nfs-磁碟">掛載 NFS 磁碟</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#掛載</span>
sudo mount -t nfs 192.168.1.21:/DATA   /Users/henryyang/Desktop/NAS_DATA
<span style="color:#75715e">#ESXi 掛載</span>
esxcfg-nas -a -o 1192.168.1.21 -s /DATA NAS_DATA
</code></pre></div></br>
<h5 id="用-wget-砍站">用 wget 砍站</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#完整指令</span>
wget --mirror --page-requisites --convert-links --directory-prefix ./  https://example.com/
<span style="color:#75715e">#簡寫指令</span>
wget -mpkP ./  https://example.com/
</code></pre></div></br>
<h5 id="刪除-gitlab-rack-attack-ban-的-ip">刪除 Gitlab Rack Attack Ban 的 IP</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#查目前所被 Ban 的 IP</span>
grep <span style="color:#e6db74">&#34;Rack_Attack&#34;</span> /var/log/gitlab/gitlab-rails/auth.log

<span style="color:#75715e">#進入 Redius 刪除該 IP</span>
/opt/gitlab/embedded/bin/redis-cli -s /var/opt/gitlab/redis/redis.socket
del cache:gitlab:rack::attack:allow2ban:ban:&lt;ip&gt;
</code></pre></div><p>參考資料：https://docs.gitlab.com/ee/security/rack_attack.html</p>
</br>
<h5 id="firefox-開啟強制-https-模式">Firefox 開啟強制 https 模式</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">偏好設定 -&gt; 隱私權與安全性 -&gt; 純 HTTPS 模式 -&gt; 在所有視窗都開啟純 HTTPS 模式
</code></pre></div></br>
<h5 id="建立-symbolic-link">建立 Symbolic link</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ln -s &lt;要被連的真實資料夾&gt; &lt;欲建立進入點的虛擬資料夾&gt;
</code></pre></div></br>
<h5 id="tar-指令">tar 指令</h5>
<p><a href="https://blog.gtwang.org/linux/tar-command-examples-in-linux-1/">https://blog.gtwang.org/linux/tar-command-examples-in-linux-1/</a></p>

	    

	    
	    <div class="comments">
		
	    </div>

	    
<hr>
<div>
    <nav aria-label="Article quick navigation">
	<ul class="pagination justify-content-center">
	    
	    <li class="page-item">
		<a class="page-link" href="https://kb.hiy.tw/os/unix/vim/" title="VIM Tips / VIM 常用指令">Previous</a>
	    </li>
	    

	    
	    <li class="page-item">
		<a class="page-link" href="https://kb.hiy.tw/os/unix/terminal_command/" title=" Terminal Shortcut / Terminal 快捷鍵">Next</a>
	    </li>
	    
	</ul>
    </nav>
</div>
<hr>



	    <div class="top-border p-3 mb-2 bg-light">
		<div>
    <ul>
	
	<h4>Articles</h4>
	
<ul>
    
    
    <li><a href="https://kb.hiy.tw/os/unix/terminal_command/"> Terminal Shortcut / Terminal 快捷鍵</a><span><small class="mx-1 text-muted">July 7, 2020</small></span></li>
    
    
    
    <li>CLI command / 常見 CLI 指令 </li>
    
    
    
    <li><a href="https://kb.hiy.tw/os/unix/vim/">VIM Tips / VIM 常用指令</a><span><small class="mx-1 text-muted">July 7, 2020</small></span></li>
    
    
</ul>

	
	<hr>
	
	
	
    </ul>
</div>





	    </div>
	    
	    









<nav aria-label="breadcrumb">
    <ol class="breadcrumb border border-secondary" itemprop="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
	











<li class="breadcrumb-item "
    
    itemprop="itemListElement" itemscope
      itemtype="http://schema.org/ListItem">
    
    <a href="https://kb.hiy.tw/"
       itemprop="item">
	<span itemprop="name">Knowledge Base</span>
    </a>
    
    <meta itemprop="position" content="1" />
</li>


<li class="breadcrumb-item "
    
    itemprop="itemListElement" itemscope
      itemtype="http://schema.org/ListItem">
    
    <a href="https://kb.hiy.tw/os/"
       itemprop="item">
	<span itemprop="name">A. OS/作業系統</span>
    </a>
    
    <meta itemprop="position" content="2" />
</li>


<li class="breadcrumb-item "
    
    itemprop="itemListElement" itemscope
      itemtype="http://schema.org/ListItem">
    
    <a href="https://kb.hiy.tw/os/unix/"
       itemprop="item">
	<span itemprop="name">UNIX</span>
    </a>
    
    <meta itemprop="position" content="3" />
</li>


<li class="breadcrumb-item  active"
    aria-current="page"
    itemprop="itemListElement" itemscope
      itemtype="http://schema.org/ListItem">
    
	<span itemprop="name">CLI command / 常見 CLI 指令 </span>
    
    <meta itemprop="position" content="4" />
</li>

  </ol>
</nav>




	    <div class="mt-3"><footer class="container-fluid site-footer py-3">

</footer>
<div class="si-license">
  <div class="text-muted text-sm-center">
	Henry Yang<small>© 2020</small> &middot; 
  </div>
</div>


</div>
	    
        </main>
    </div>
</div>









<script async src="/js/bundle.min.58c1a372888b06db260026e21bb373955061138b81181b5248eb0a5f94e82b5f1f500a5d40ffa85135bb4ef838a53013ca6d3f85ee39c023de90e6149aac4d6b.js" integrity="sha512-WMGjcoiLBtsmACbiG7NzlVBhE4uBGBtSSOsKX5ToK18fUApdQP&#43;oUTW7Tvg4pTATym0/he45wCPekOYUmqxNaw=="></script>

</body>
</html>
